# AI 图片生成网站 - 第一阶段规划 (MVP)

## 阶段目标

快速开发出一个可用的 AI 图片生成网站原型，验证核心功能和用户需求。

## 核心功能 (必须实现)

### 1. 用户系统 (简化版)

- **用户注册/登录**

  - 邮箱注册登录
  - Google 第三方登录 (Supabase Auth)
  - 基本用户资料 (头像、昵称)

- **简单权限**
  - 游客模式：可以体验 1-2 次生成
  - 注册用户：每日 10 次免费生成
  - 基于 credits 的简单计费

### 2. 图片生成功能 (核心)

- **提示词输入**

  - 单个文本框输入提示词
  - 提示词长度限制 (500 字符)
  - 简单的输入验证

- **基础参数设置**

  - 图片尺寸：3 个固定选项 (512x512, 768x768, 1024x1024)
  - 图片数量：1-4 张
  - 简单的风格选择：写实、动漫、艺术 (通过预设 prompt 修饰符实现)

- **生成处理**
  - 连接一个 AI API (建议先接入 OpenAI DALL-E 或 Stable Diffusion)
  - 生成状态显示 (加载中、完成、失败)
  - 简单的错误处理

### 3. 作品管理 (基础版)

- **个人图库**

  - 显示用户生成的所有图片
  - 按时间倒序排列
  - 图片网格展示

- **基本操作**
  - 查看大图
  - 下载原图 (PNG 格式)
  - 删除图片
  - 显示生成时使用的提示词

### 4. 首页和导航

- **着陆页**

  - 产品介绍
  - 示例图片展示
  - 立即体验按钮

- **主导航**
  - 首页
  - 生成图片
  - 我的作品
  - 登录/注册

## 技术实现

### 数据库设计 (最简版)

```sql
-- 用户扩展信息
users_profile (
  id uuid primary key,
  user_id uuid references auth.users,
  credits integer default 10,
  created_at timestamp
);

-- 图片生成记录
generations (
  id uuid primary key,
  user_id uuid references auth.users,
  prompt text,
  image_url text,
  image_size text,
  status text, -- 'pending', 'completed', 'failed'
  created_at timestamp
);
```

### API 路由

```
/api/generate       # 图片生成
/api/user/credits   # 获取用户积分
/api/generations    # 获取用户生成记录
```

### 页面结构

```
app/
├── page.tsx           # 首页
├── generate/
│   └── page.tsx       # 图片生成页面
├── gallery/
│   └── page.tsx       # 个人作品页面
├── login/
│   └── page.tsx       # 登录页面
└── api/
    ├── generate/
    │   └── route.ts   # 生成 API
    └── generations/
        └── route.ts   # 作品列表 API
```

## 开发优先级

### Phase 1.1 (第 1 周)

1. 项目搭建 (Next.js + Supabase)
2. 用户认证系统
3. 基础页面布局和导航

### Phase 1.2 (第 2 周)

1. 图片生成核心功能
2. 接入一个 AI API
3. 基础的生成界面

### Phase 1.3 (第 3 周)

1. 个人作品管理
2. 积分系统
3. 基础的响应式设计

### Phase 1.4 (第 4 周)

1. 错误处理和用户体验优化
2. 基础的内容过滤
3. 部署到 Vercel

## 技术栈 (确定)

- **前端**: Next.js 14 + TypeScript + Tailwind CSS
- **后端**: Next.js API Routes
- **数据库**: Supabase PostgreSQL
- **认证**: Supabase Auth
- **存储**: Supabase Storage
- **部署**: Vercel
- **AI API**: OpenAI DALL-E 3 (推荐) 或 Replicate Stable Diffusion

## 外观设计 (简洁版)

- **设计风格**: 现代简洁，主色调蓝色/紫色渐变
- **布局**: 响应式，移动端友好
- **组件库**: 可以使用 shadcn/ui 或 Headless UI
- **图标**: Lucide React

## 成功指标

- [ ] 用户可以注册并登录
- [ ] 用户可以输入提示词生成图片
- [ ] 生成的图片可以保存和查看
- [ ] 基本的积分系统工作正常
- [ ] 网站在移动端正常使用
- [ ] 生成一张图片的完整流程 < 30 秒

## 暂时不实现的功能

- 预设提示词库
- 复杂的参数调节
- 社区功能
- 付费系统
- 批量生成
- 图片编辑
- 高级 AI 功能
- 管理后台

## 第二阶段预计添加

- 提示词模板库
- 更多 AI API 集成
- 付费会员系统
- 社区分享功能
- 更丰富的生成参数

这个第一阶段规划专注于核心功能，确保能在 4 周内开发出一个可用的产品原型。
